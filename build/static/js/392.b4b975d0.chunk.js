"use strict";(self.webpackChunkmantis_material_react=self.webpackChunkmantis_material_react||[]).push([[392],{5392:function(e,t,s){s.r(t);var l=s(4165),a=s(5861),n=s(9439),c=s(7313),r=s(4599),i=s(1387),d=(s(8282),s(3208)),o=s(5444),x=s(1775),u=s(6417);t.default=function(){var e=(0,c.useState)([]),t=(0,n.Z)(e,2),s=t[0],m=t[1],h=(0,c.useState)([]),v=(0,n.Z)(h,2),f=v[0],p=v[1],b=(0,c.useState)([]),N=(0,n.Z)(b,2),j=N[0],g=N[1],w=(0,c.useState)([]),y=(0,n.Z)(w,2),Z=y[0],k=y[1],A=(0,c.useState)(0),C=(0,n.Z)(A,2),S=C[0],D=C[1],L=(0,c.useState)(0),M=(0,n.Z)(L,2),_=M[0],U=M[1],W=(0,c.useState)(0),E=(0,n.Z)(W,2),B=E[0],H=E[1];var I=function(e){var t=s.filter((function(t){return t.winStatus===e}));p(t)},P=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var a,n;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.toLocaleDateString("en-CA"),n=s.filter((function(e){return e.date===a})),p(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var s;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.Z.post("https://climb-server.onrender.com/api/spots/deleteById",{id:t});case 2:s=e.sent,(0,i.Am)(s.data.message,{hideProgressBar:!1,autoClose:2e3,type:"success"}),D(S+1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=(0,a.Z)((0,l.Z)().mark((function e(t){var s,a;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.toLocaleDateString("en-CA"),a=j.filter((function(e){return e.date===s})),k(a);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,c.useEffect)((function(){r.Z.get("https://climb-server.onrender.com/api/spots/all").then((function(e){m(e.data),p(e.data)})).catch((function(e){console.log(e)}))}),[S]),(0,c.useEffect)((function(){r.Z.get("https://climb-server.onrender.com/api/spots/winners").then((function(e){g(e.data),k(e.data)})).catch((function(e){console.log(e)}))}),[S]),(0,c.useEffect)((function(){r.Z.post("https://climb-server.onrender.com/api/spots/playersNumber").then((function(e){U(e.data.allUsers),H(e.data.dailyUsers)})).catch((function(e){console.log(e)}))}),[S]),(0,u.jsxs)("div",{className:"w-full overflow-hidden",children:[(0,u.jsxs)("div",{className:"inline-flex",children:[(0,u.jsx)("div",{className:"text-[22px] mr-3 font-bold",children:"AllUsers"}),(0,u.jsx)("div",{className:"text-[20px] mr-5",children:_}),(0,u.jsx)("div",{className:"text-[22px] mr-3 font-bold",children:"DailyUsers"}),(0,u.jsx)("div",{className:"text-[20px]",children:B})]}),(0,u.jsx)("div",{className:"text-[25px] mb-[20px]",children:"Winners List"}),(0,u.jsx)("div",{className:"mb-[12px]",children:(0,u.jsx)(d._,{dateAdapter:x.H,children:(0,u.jsx)(o.M,{format:"dd/MM/yyyy",onChange:function(e){return z(e)}})})}),(0,u.jsxs)("div",{className:"table w-full text-[15px] mb-[25px]",children:[0!=Z.length&&(0,u.jsx)("div",{className:"table-header-group",children:(0,u.jsxs)("div",{className:"table-row",children:[(0,u.jsx)("div",{className:"table-cell text-center",children:"No"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Address"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Date"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Nickname"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Delete"})]})}),(0,u.jsx)("div",{className:"table-row-group",children:Z.map((function(e,t){return(0,u.jsxs)("div",{className:"table-row",children:[(0,u.jsx)("div",{className:"table-cell text-center",children:t+1}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.walletAddress}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.createdAt}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.nickName}),(0,u.jsx)("div",{className:"table-cell text-center p-2 mb-1",children:(0,u.jsx)("button",{className:"rounded-lg bg-gray-500 p-1",onClick:function(){q(e.id)},children:"Delete"})})]},t)}))})]}),(0,u.jsx)("div",{className:"text-[25px] mb-[25px]",children:"Spots List"}),(0,u.jsxs)("div",{className:"inline-flex mb-5",children:[(0,u.jsx)("div",{className:"flex w-[205px] items-center justify-center",children:(0,u.jsx)("div",{className:"text-[20px]",children:"Wallet Address"})}),(0,u.jsx)("input",{className:"items-center text-sm leading-6 text-slate-400 rounded-md ring-1 shadow-sm py-1.5 pl-2 pr-3 hover:ring-white bg-gray-300 dark:highlight-white/5 dark:hover:bg-gray-100",onChange:function(e){for(var t=e.target.value.toLowerCase(),l=[],a=0;a<s.length;a++)void 0!==s[a].walletAddress&&l.push(s[a]);var n=l.filter((function(e){return e.walletAddress.toLowerCase().includes(t)}));p(n)}}),(0,u.jsx)("button",{className:"rounded-full bg-gray-300 hover:bg-gray-500 ml-3",onClick:function(){I(1)},children:(0,u.jsx)("div",{className:"mx-[20px]",children:"Win"})}),(0,u.jsx)("button",{className:"rounded-full bg-gray-300 hover:bg-gray-500 ml-3",onClick:function(){I(2)},children:(0,u.jsx)("div",{className:"mx-[20px]",children:"Almost"})}),(0,u.jsx)("button",{className:"rounded-full bg-gray-300 hover:bg-gray-500 ml-3 mr-3",onClick:function(){I(3)},children:(0,u.jsx)("div",{className:"mx-[20px]",children:"Loose"})}),(0,u.jsx)(d._,{dateAdapter:x.H,children:(0,u.jsx)(o.M,{format:"dd/MM/yyyy",onChange:function(e){return P(e)}})})]}),(0,u.jsxs)("div",{className:"table w-full text-[15px]",children:[0!=f.length&&(0,u.jsx)("div",{className:"table-header-group",children:(0,u.jsxs)("div",{className:"table-row",children:[(0,u.jsx)("div",{className:"table-cell text-center",children:"No"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Address"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"WinStatus"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Date"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Nickname"}),(0,u.jsx)("div",{className:"table-cell text-center",children:"Delete"})]})}),(0,u.jsx)("div",{className:"table-row-group",children:f.map((function(e,t){return(0,u.jsxs)("div",{className:"table-row",children:[(0,u.jsx)("div",{className:"table-cell text-center",children:t+1}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.walletAddress}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.winStatus}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.createdAt}),(0,u.jsx)("div",{className:"table-cell text-center",children:e.nickName}),(0,u.jsx)("div",{className:"table-cell text-center p-2 mb-1",children:(0,u.jsx)("button",{className:"rounded-lg bg-gray-500 p-1",onClick:function(){q(e.id)},children:"Delete"})})]},t)}))})]}),(0,u.jsx)(i.Ix,{})]})}}}]);